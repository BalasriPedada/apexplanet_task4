<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Quiz App</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f0f2f5;
    }
    h1 {
      text-align: center;
    }

    /* Category Cards */
    #categorySelection {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 30px;
    }

    .quiz-card {
      width: 220px;
      background: white;
      border-radius: 10px;
      padding: 15px;
      text-align: center;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .quiz-card:hover {
      transform: scale(1.05);
      box-shadow: 0 0 10px #aaa;
    }

    .quiz-card img {
      width: 100%;
      height: 130px;
      object-fit: cover;
      border-radius: 8px;
    }

    .quiz-card h3 {
      margin: 10px 0 5px;
    }

    .quiz-card p {
      font-size: 0.9em;
      color: #666;
    }

    /* Quiz Area */
    #quizArea {
      display: none;
      max-width: 600px;
      margin: 30px auto;
      background: white;
      padding: 20px;
      border-radius: 10px;
    }

    #questionBox {
      margin-bottom: 15px;
    }

    .options label {
      display: block;
      margin-bottom: 10px;
      cursor: pointer;
    }

    #navigation {
      margin-top: 15px;
      display: flex;
      justify-content: space-between;
    }

    #questionNumbers {
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
      margin-top: 20px;
    }

    .qn {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      text-align: center;
      line-height: 30px;
      cursor: pointer;
      background-color: red;
      color: white;
    }

    .qn.answered {
      background-color: green;
    }

    .qn.current {
      border: 2px solid blue;
    }

    #info {
      margin-top: 10px;
      font-size: 0.9em;
      color: #555;
    }

    #timer {
      font-weight: bold;
      float: right;
    }

    #submitBtn {
      margin-top: 15px;
    }

    #result {
      text-align: center;
      font-weight: bold;
      font-size: 1.2em;
      color: green;
    }
  </style>
</head>
<body>

<h1>Take a Quiz <span id="timer"></span></h1>

<!-- Quiz Categories -->
<div id="categorySelection">
  <div class="quiz-card" data-quiz="math">
    <img src="https://images.unsplash.com/photo-1535905557558-afc4877a26fc" alt="Math">
    <h3>Math Quiz</h3>
    <p>Sharpen your problem-solving skills!</p>
  </div>
  <div class="quiz-card" data-quiz="science">
    <img src="https://th.bing.com/th/id/OIP.E4QAE2vceXwUbMsSrpIKtAHaE7?rs=1&pid=ImgDetMain" alt="Science">
    <h3>Science Quiz</h3>
    <p>Test your scientific knowledge!</p>
  </div>
  <div class="quiz-card" data-quiz="history">
    <img src="https://images.unsplash.com/photo-1570129477492-45c003edd2be" alt="History">
    <h3>History Quiz</h3>
    <p>Explore events from the past!</p>
  </div>
  <div class="quiz-card" data-quiz="geography">
   <img src="https://quizizz.com/media/resource/gs/quizizz-media/quizzes/60328dfa-960e-4d01-bf77-344d79d7747f" alt="Geography">

    <h3>Geography Quiz</h3>
    <p>Discover the world around you!</p>
  </div>
  <div class="quiz-card" data-quiz="tech">
   <img src="https://th.bing.com/th/id/OIP.mftCSekbTX8w42Z0pAA3ZQHaD4?rs=1&pid=ImgDetMain" alt="Tech">
    <h3>Technology Quiz</h3>
    <p>Check your tech knowledge!</p>
  </div>
</div>

<!-- Quiz Area -->
<div id="quizArea">
  <div id="questionBox"></div>
  <div class="options" id="optionsBox"></div>
  <div id="navigation">
    <button id="prevBtn">Previous</button>
    <button id="nextBtn">Next</button>
    <button id="submitBtn">Submit</button>
  </div>
  <div id="questionNumbers"></div>
  <div id="info">(i) Answered: <span id="answeredCount">0</span> / <span id="totalCount">0</span></div>
  <div id="result"></div>
</div>

<script>
  const quizzes = {
    math: [
      { q: "2 + 2 = ?", options: ["3", "4", "5"], answer: "4" },
      { q: "5 * 6 = ?", options: ["11", "30", "60"], answer: "30" },
      { q: "10 / 2 = ?", options: ["3", "5", "7"], answer: "5" }
    ],
    science: [
      { q: "H2O is?", options: ["Oxygen", "Water", "Hydrogen"], answer: "Water" },
      { q: "Sun is a?", options: ["Planet", "Star", "Moon"], answer: "Star" }
    ],
    history: [
      { q: "Who discovered America?", options: ["Columbus", "Newton", "Einstein"], answer: "Columbus" },
      { q: "Mahatma Gandhi led which movement?", options: ["Quit India", "Green Revolution", "Operation Blue Star"], answer: "Quit India" }
    ],
    geography: [
      { q: "Largest ocean?", options: ["Atlantic", "Pacific", "Indian"], answer: "Pacific" },
      { q: "Capital of France?", options: ["Berlin", "Paris", "Rome"], answer: "Paris" }
    ],
    tech: [
      { q: "HTML stands for?", options: ["HyperText Markup Language", "HighText Machine Language", "HyperTool Markup Language"], answer: "HyperText Markup Language" },
      { q: "Which is not a programming language?", options: ["Python", "Java", "Hadoop"], answer: "Hadoop" }
    ]
  };

  const quizArea = document.getElementById('quizArea');
  const questionBox = document.getElementById('questionBox');
  const optionsBox = document.getElementById('optionsBox');
  const questionNumbers = document.getElementById('questionNumbers');
  const categorySelection = document.getElementById('categorySelection');
  const submitBtn = document.getElementById('submitBtn');
  const result = document.getElementById('result');
  const timerDisplay = document.getElementById('timer');
  const info = document.getElementById('answeredCount');
  const total = document.getElementById('totalCount');

  let questions = [], answers = [], currentIndex = 0, timeLeft = 600, timer;

  function showQuestion(index) {
    currentIndex = index;
    const qObj = questions[index];
    questionBox.textContent = (index + 1) + ". " + qObj.q;
    optionsBox.innerHTML = "";
    qObj.options.forEach(opt => {
      const label = document.createElement('label');
      label.innerHTML = `<input type="radio" name="opt" value="${opt}" ${answers[index] === opt ? 'checked' : ''}> ${opt}`;
      optionsBox.appendChild(label);
    });

    document.querySelectorAll('.qn').forEach((el, i) => {
      el.classList.remove('current');
      if (i === index) el.classList.add('current');
    });
  }

  function saveAnswer() {
    const selected = document.querySelector('input[name="opt"]:checked');
    if (selected) answers[currentIndex] = selected.value;
    updateStatus();
  }

  function updateStatus() {
    document.querySelectorAll('.qn').forEach((el, i) => {
      if (answers[i]) el.classList.add('answered');
      else el.classList.remove('answered');
    });
    info.textContent = answers.filter(a => a).length;
  }

  function startTimer() {
    timeLeft = 600;
    timer = setInterval(() => {
      if (timeLeft <= 0) {
        clearInterval(timer);
        alert("Time's up!");
        submitQuiz();
        return;
      }
      timeLeft--;
      const min = Math.floor(timeLeft / 60);
      const sec = timeLeft % 60;
      timerDisplay.textContent = `Time Left: ${min}:${sec.toString().padStart(2, '0')}`;
    }, 1000);
  }

  function submitQuiz() {
    clearInterval(timer);
    let score = 0;
    answers.forEach((ans, i) => {
      if (ans === questions[i].answer) score++;
    });
    result.textContent = `You scored ${score} out of ${questions.length}`;
  }

  document.getElementById('prevBtn').onclick = () => {
    saveAnswer();
    if (currentIndex > 0) showQuestion(currentIndex - 1);
  };

  document.getElementById('nextBtn').onclick = () => {
    saveAnswer();
    if (currentIndex < questions.length - 1) showQuestion(currentIndex + 1);
  };

  submitBtn.onclick = () => {
    saveAnswer();
    if (answers.includes(null) || answers.includes(undefined)) {
      if (!confirm('Some questions are unanswered. Submit anyway?')) return;
    }
    submitQuiz();
  };

  categorySelection.onclick = e => {
    const card = e.target.closest('.quiz-card');
    if (!card) return;
    const quizKey = card.getAttribute('data-quiz');
    if (!quizzes[quizKey]) {
      alert("No questions found.");
      return;
    }

    questions = quizzes[quizKey];
    answers = new Array(questions.length).fill(null);
    currentIndex = 0;

    total.textContent = questions.length;
    result.textContent = '';
    submitBtn.style.display = 'inline-block';
    quizArea.style.display = 'block';
    categorySelection.style.display = 'none';
    questionNumbers.innerHTML = '';

    questions.forEach((_, i) => {
      const btn = document.createElement('div');
      btn.className = 'qn';
      btn.textContent = i + 1;
      btn.onclick = () => {
        saveAnswer();
        showQuestion(i);
      };
      questionNumbers.appendChild(btn);
    });

    startTimer();
    showQuestion(0);
    updateStatus();
  };
</script>

</body>
</html>
